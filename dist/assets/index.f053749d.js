import{p,r as y,O as h,T as i,a as w,b as c,V as v,M as L,c as P,f as E,o as T}from"./vendor.3727dd50.js";const O=function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))o(e);new MutationObserver(e=>{for(const t of e)if(t.type==="childList")for(const a of t.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&o(a)}).observe(document,{childList:!0,subtree:!0});function s(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerpolicy&&(t.referrerPolicy=e.referrerpolicy),e.crossorigin==="use-credentials"?t.credentials="include":e.crossorigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function o(e){if(e.ep)return;e.ep=!0;const t=s(e);fetch(e.href,t)}};O();p.defs("EPSG:27700","+proj=tmerc +lat_0=49 +lon_0=-2 +k=0.9996012717 +x_0=400000 +y_0=-100000 +ellps=airy +towgs84=446.448,-125.157,542.06,0.15,0.247,0.842,-20.489 +units=m +no_defs");y(p);const S=document.getElementById("popup"),u=document.getElementById("popup-content"),f=document.getElementById("popup-closer"),l=new h({element:S,autoPan:!0,autoPanAnimation:{duration:1500}}),b=new i({source:new w}),M=new i({source:new c({url:"http://localhost:8080/geoserver/wms",params:{LAYERS:"test:burst",TILED:!0},serverType:"geoserver",transition:0})}),I=new i({source:new c({url:"http://localhost:8080/geoserver/wms",params:{LAYERS:"test:test",TILED:!0},serverType:"geoserver",transition:0})}),m=new i({source:new c({url:"http://localhost:8080/geoserver/wms",params:{LAYERS:"test:street_lighting",TILED:!0},serverType:"geoserver",transition:0})});let g=new v({center:[339861.7958798604,100319.43155530083],zoom:10,projection:"EPSG:27700"});const d=new L({target:"map",layers:[b,m,I,M],view:g,overlays:[l]}),_=new P({className:"mousePosition",projection:"EPSG 27700",coordinateFormat:r=>E(r,"{x}, {y}")});d.addControl(_);var N=new T({html:'<div class="btn-event"></div>',className:"draw-btn",title:"The button",handleClick:()=>{console.log("hello!!!")}});d.addControl(N);f.onclick=()=>(l.setPosition(void 0),f.blur(),!1);d.on("singleclick",r=>{u.innerHTML="",l.setPosition(r.coordinate);const n=g.getResolution(),s=m.getSource().getFeatureInfoUrl(r.coordinate,n,"EPSG:27700",{INFO_FORMAT:"application/json"});s?fetch(s).then(o=>o.json()).then(o=>{u.innerHTML=`<h3><u>${o.features[0].id}</u></h3>`;let e=o.features[0].properties;for(let t in e)e.hasOwnProperty(t)&&t!="OBJECTID"&&(u.innerHTML+=`<p><strong>${t}: </strong>${e[t]}</p>`);console.log(JSON.stringify(o.features[0].id))}).catch(o=>{throw o}):l.setPosition(void 0)});
//# sourceMappingURL=index.f053749d.js.map
